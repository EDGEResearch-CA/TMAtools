<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>TMAtools • TMAtools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="TMAtools">
<meta name="description" content="TMAtools facilitates the processing and integration of Tissue Microarray (TMA) data at scale.">
<meta property="og:description" content="TMAtools facilitates the processing and integration of Tissue Microarray (TMA) data at scale.">
<meta property="og:image" content="https://edgeresearch-ca.github.io/tmatools/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">TMAtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.edgeresearch.ca" target="_blank"><span class="fa fa-microscope"></span> EDGE Research Lab</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EDGEResearch-CA/TMAtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="tmatools">TMAtools<a class="anchor" aria-label="anchor" href="#tmatools"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of TMAtools is to facilitate the efficient and reproducible processing and integration of TMA data at scale.</p>
<p>Documentation and examples are available at <a href="https://edgeresearch-ca.github.io/TMAtools/" class="external-link">edgeresearch-ca.github.io/TMAtools</a>.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<div class="float">
<img src="reference/figures/TMAtoolsoverview.png" alt="TMAtools overview fig."><div class="figcaption">TMAtools overview fig.</div>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of TMAtools from <a href="https://github.com/EDGEResearch-CA/TMAtools" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"EDGEResearch-CA/TMAtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example that comes with the package, containing two independent TMAs (<code>tma1</code> and <code>tma2</code>). The data from each TMA is located within a separate folder. Here, we use the <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code> function to grab the path to the <code>tma1</code> and <code>tma2</code> folders. For your own data, please replace <code>tma_dirs</code> with the path to your own TMA(s).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://edgeresearch-ca.github.io/TMAtools" class="external-link">TMAtools</a></span><span class="op">)</span></span>
<span><span class="co"># 2 example folders with TMA files (which come with TMAtools)</span></span>
<span><span class="va">tma_dirs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"tma1"</span>, package <span class="op">=</span> <span class="st">"TMAtools"</span><span class="op">)</span>,</span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"tma2"</span>, package <span class="op">=</span> <span class="st">"TMAtools"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># If using your own data, raplace tma_dirs definition, eg:</span></span>
<span><span class="co"># tma_dirs &lt;- "C:/Users/JaneDoe/Documents/my_tma"</span></span>
<span></span>
<span><span class="co"># spreadsheet with translation and consolidation rules</span></span>
<span><span class="co"># for the examples tma1 and tma2</span></span>
<span><span class="va">biomarker_rules_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"extdata"</span>, <span class="st">"biomarker_rules_example.xlsx"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"TMAtools"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run the TMAtools pipeline</span></span>
<span><span class="fu"><a href="reference/tmatools.html">tmatools</a></span><span class="op">(</span></span>
<span>  tma_dirs <span class="op">=</span> <span class="va">tma_dirs</span>,</span>
<span>  biomarker_rules_file <span class="op">=</span> <span class="va">biomarker_rules_file</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="st">"tmatools_output"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="processing-your-own-data">Processing your own data<a class="anchor" aria-label="anchor" href="#processing-your-own-data"></a>
</h2>
<p>To process your own data, <code>TMAtools</code> requires two main inputs: a <strong>biomarker rules file</strong> and one or more <strong>TMA folders</strong>, as explained below.</p>
<div class="section level3">
<h3 id="biomarkers-rule-file">Biomarkers rule file<a class="anchor" aria-label="anchor" href="#biomarkers-rule-file"></a>
</h3>
<p>Excel file containing translation and consolidation rules. It must be placed outside TMA folders. Column names should match the template file <a href="https://github.com/EDGEResearch-CA/TMAtools/blob/master/inst/extdata/biomarker_rules_example.xlsx" class="external-link"><code>inst/extdata/biomarker_rules_example.xlsx</code></a> (download the raw file from GitHub to explore in Excel). You can create a copy of this file for your own customization with the code below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_rules</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"extdata"</span>, <span class="st">"biomarker_rules_example.xlsx"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"TMAtools"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">example_rules</span>, <span class="st">"biomarker_rules_example_copy.xlsx"</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="full-template-for-ihc-biomarkers-and-customization">Full template for IHC biomarkers and customization<a class="anchor" aria-label="anchor" href="#full-template-for-ihc-biomarkers-and-customization"></a>
</h4>
<p>TMAtools also includes another rules template file called <a href="https://github.com/EDGEResearch-CA/TMAtools/blob/master/inst/extdata/biomarker_rules_enoc.xlsx" class="external-link"><code>inst/extdata/biomarker_rules_enoc.xlsx</code></a>, which contains translation and consolidation rules for 19 different biomarkers applied to studying Endometrioid and Clear Cell Ovarian Carcinomas. You can create a copy of this file for your own customization with the code below.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">enoc_rules</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"extdata"</span>, <span class="st">"biomarker_rules_enoc.xlsx"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"TMAtools"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="va">enoc_rules</span>, <span class="st">"biomarker_rules_enoc_copy.xlsx"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="tma-folders">TMA folders<a class="anchor" aria-label="anchor" href="#tma-folders"></a>
</h3>
<p>There must be one folder per TMA (the folder name will be used as a label in output files). Each TMA folder should contain the files below.</p>
<p>You can check out the contents of the <a href="https://github.com/EDGEResearch-CA/TMAtools/tree/master/inst/extdata/tma1" class="external-link">tma1</a> and <a href="https://github.com/EDGEResearch-CA/TMAtools/tree/master/inst/extdata/tma2" class="external-link">tma2</a> examples on GitHub.</p>
<div class="section level4">
<h4 id="score-sheets">Score sheets<a class="anchor" aria-label="anchor" href="#score-sheets"></a>
</h4>
<p>Each score sheet is an Excel file with the actual scores (and potentially other tabs). There must be one score sheet per biomarker. The tab that includes the actual scores should be the same in all score sheets (controlled by the <code>biomarker_sheet_index</code> argument of the <code><a href="reference/tmatools.html">tmatools()</a></code> function). The name of the biomarker is retrieved from the name of this tab, which should match the name in the rules file. <code>TMAtools</code> will let you know if some of these don’t match.</p>
<p>You can explore an example in the file <a href="https://github.com/EDGEResearch-CA/TMAtools/blob/master/inst/extdata/tma1/example_er.xlsx" class="external-link"><code>inst/extdata/tma1/example_er.xlsx</code></a> on GitHub (download the raw file to inspect in Excel).</p>
</div>
<div class="section level4">
<h4 id="clean-map">Clean map<a class="anchor" aria-label="anchor" href="#clean-map"></a>
</h4>
<p>An Excel file containing “clean_map” in the name. This file corresponds to the sector map of your TMA that only contains the core IDs within the corresponding cells. No other annotation outside the map is allowed, as <code>TMAtools</code> uses the exact positions of core IDs to map corresponding scores.</p>
<p>You can explore an example in the file <a href="https://github.com/EDGEResearch-CA/TMAtools/blob/master/inst/extdata/tma1/tma1_clean_map.xlsx" class="external-link"><code>inst/extdata/tma1/tma1_clean_map.xlsx</code></a> on GitHub.</p>
</div>
<div class="section level4">
<h4 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h4>
<p>An Excel file with “metadata” in the name. In a single tab, it must contain at least two columns: “core_id” (core IDs that appear in the sector map) and “accession_id” (case or patient identifiers). Optionally, you can add other columns with additional metadata (e.g., age, sex, histotype, block number), which will be carried forward to your output files.</p>
<p>You can explore an example in the file <a href="https://github.com/EDGEResearch-CA/TMAtools/blob/master/inst/extdata/tma1/tma1_clean_map.xlsx" class="external-link"><code>inst/extdata/tma1/example_metadata.xlsx</code></a> on GitHub.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="bugs">Bugs<a class="anchor" aria-label="anchor" href="#bugs"></a>
</h2>
<p>If you find any bugs, please report them at the TMAtools <a href="https://github.com/EDGEResearch-CA/TMAtools/issues" class="external-link">issue tracker</a>. We appreciate it, thank you very much!</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/EDGEResearch-CA/TMAtools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/EDGEResearch-CA/TMAtools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing TMAtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bianca Ribeiro de Souza <br><small class="roles"> Author, maintainer </small>   </li>
<li> Endometriosis Oncogenomics and Pathology Research Lab <br><small class="roles"> Copyright holder, funder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.15447743" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.15447743.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bianca Ribeiro de Souza, Endometriosis Oncogenomics and Pathology Research Lab.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
